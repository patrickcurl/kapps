# This file is a golang template that supports sprig (https://masterminds.github.io/sprig/)
# text functions.  Variable values come from the final set of variables
# applicable to the stack/profile/cluster/etc that you install this kapp into.

# Env vars to pass to this kapp. Values can come from variables.
env_vars:
  TEMPLATED_PATH: "{{ index .kapp.templates 0 }}"

templates:
  - source: k8s/namespace.tpl.yaml
    dest: k8s/_generated_namespace.yaml

requires:
  - kubectl
  - helm

# load the cluster issuer YAML file so other kapps can refer to it through a variable instead of by hard-coding
# its name or kind.
outputs:
  - format: yaml
    id: clusterIssuer
    path: templates/clusterissuer.yaml
